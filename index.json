[
{
	"uri": "/",
	"title": "",
	"tags": [],
	"description": "",
	"content": " Overloaded bits "
},
{
	"uri": "/netops/ansible/",
	"title": "Ansible",
	"tags": [],
	"description": "",
	"content": " Ansible  Ansible tips, tricks and notes Ansible tips, tricks and notes\n  Junos/Ansible basics Basics of using Ansible to manage Juniper devices\n  Network-engine module Ansible network-engine module\n  Ansible timestamps Working with timestamps in Ansible\n  "
},
{
	"uri": "/netops/ansible/tricks/",
	"title": "Ansible tips, tricks and notes",
	"tags": [],
	"description": "Ansible tips, tricks and notes",
	"content": " Remove key from dictionary Takes hostvars for the given inventory_hostname and reconstructs it without the groups key\n- set_fact: dict: {} - set_fact: dict: \u0026quot;{{ dict | combine({item.key: item.value}) }}\u0026quot; when: item.key not in ['groups'] with_dict: \u0026quot;{{hostvars[inventory_hostname]}}\u0026quot; - debug: msg: \u0026quot;{{dict}}\u0026quot;  "
},
{
	"uri": "/categories/",
	"title": "Categories",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "/netops/ansible/ansible-w-junos/",
	"title": "Junos/Ansible basics",
	"tags": [],
	"description": "Basics of using Ansible to manage Juniper devices",
	"content": " Disclaimer: may be outdated\nRetrieve config Using Galaxy module:\n - name: Retrieve the interface configuration using Galaxy module juniper_junos_config: retrieve: 'committed' filter: '\u0026lt;interfaces\u0026gt;\u0026lt;interface\u0026gt;\u0026lt;name\u0026gt;{{interface}}\u0026lt;/name\u0026gt;\u0026lt;unit\u0026gt;\u0026lt;name\u0026gt;{{unit}}\u0026lt;/name\u0026gt;\u0026lt;/unit\u0026gt;\u0026lt;/interface\u0026gt;\u0026lt;/interfaces\u0026gt;' diff: true check: false commit: false format: xml register: iface_info  Using netconf_get module:\n- name: Retrieve the interface configuration using netconf_get module netconf_get: source: running filter: '\u0026lt;configuration\u0026gt;\u0026lt;interfaces\u0026gt;\u0026lt;interface\u0026gt;\u0026lt;name\u0026gt;{{interface}}\u0026lt;/name\u0026gt;\u0026lt;unit\u0026gt;\u0026lt;name\u0026gt;{{unit}}\u0026lt;/name\u0026gt;\u0026lt;/unit\u0026gt;\u0026lt;/interface\u0026gt;\u0026lt;/interfaces\u0026gt;\u0026lt;/configuration\u0026gt;' # filter: '\u0026lt;configuration\u0026gt;\u0026lt;interfaces\u0026gt;\u0026lt;interface[name=\u0026quot;ge-0/0/6\u0026quot;]\u0026gt;\u0026lt;/interface\u0026gt;\u0026lt;/interfaces\u0026gt;\u0026lt;/configuration\u0026gt;' register: iface_info  Note: Junos doesnt support xpath filtering in get-config operation\n"
},
{
	"uri": "/netops/ansible/network-engine/",
	"title": "Network-engine module",
	"tags": [],
	"description": "Ansible network-engine module",
	"content": " 1 --- 2 - name: Parser role 3 hosts: ios 4 roles: 5 - \u0026quot;ansible-network.network-engine\u0026quot; 6 tasks: 7 - name: \u0026quot;Get router configuration\u0026quot; 8 ios_command: 9 commands: \u0026quot;show running-config | section ^vrf_definition\u0026quot; 10 register: vrf_config 11 12 - name: DEBUG1 13 debug: 14 var: vrf_config.stdout[0] 15 16 - name: \u0026quot;Parse RT data\u0026quot; 17 command_parser: 18 file: \u0026quot;parsers/vrf.yml\u0026quot; 19 content: \u0026quot;{{ vrf_config.stdout[0] }}\u0026quot; 20 21 - name: DEBUG2 22 debug: 23 msg: \u0026quot;TEST {{item}}\u0026quot; 24 loop: \u0026quot;{{vrf_data | dictsort }}\u0026quot; 25 26   1 --- 2 - name: \u0026quot;Parser metadata\u0026quot; 3 parser_metadata: 4 version: 1.0 5 command: \u0026quot;show running-config | section ^vrf definition\u0026quot; 6 network_os: ios 7 8 - name: \u0026quot;Match each VRF\u0026quot; 9 pattern_match: 10 regex: \u0026quot;vrf\\\\s+definition\u0026quot; 11 match_all: true 12 match_greedy: true 13 register: vrf_list 14 # export: yes 15 16 - name: \u0026quot;Match VRF components\u0026quot; 17 pattern_group: 18 19 - name: \u0026quot;Parse VRF name\u0026quot; 20 pattern_match: 21 regex: \u0026quot;vrf\\\\s+definition\\\\s+(\\\\S+)\u0026quot; 22 content: \u0026quot;{{ item }}\u0026quot; 23 register: name 24 25 - name: \u0026quot;Parse imported RTs\u0026quot; 26 pattern_match: 27 regex: \u0026quot;route-target\\\\s+import\\\\s+(\\\\d+:\\\\d+)\u0026quot; 28 content: \u0026quot;{{ item }}\u0026quot; 29 match_all: true 30 register: rti_matches 31 32 - name: \u0026quot;Parse exported RTs\u0026quot; 33 pattern_match: 34 regex: \u0026quot;route-target\\\\s+export\\\\s+(\\\\d+:\\\\d+)\u0026quot; 35 content: \u0026quot;{{ item }}\u0026quot; 36 match_all: true 37 register: rte_matches 38 39 loop: \u0026quot;{{ vrf_list }}\u0026quot; 40 register: vrf_components 41 #export: yes 42 43 - name: \u0026quot;Create JSON structure\u0026quot; 44 json_template: 45 template: 46 - key: \u0026quot;{{ item.name.matches[0] }}\u0026quot; 47 object: 48 - key: route_import 49 value: \u0026quot;{{ item.rti_matches | map(attribute='matches') | list }}\u0026quot; 50 - key: route_export 51 value: \u0026quot;{{ item.rte_matches | map(attribute='matches') | list }}\u0026quot; 52 loop: \u0026quot;{{ vrf_components }}\u0026quot; 53 export: true 54 export_as: dict 55 register: vrf_data   1 cra@lablinux:~/workbench/network-engine tests$ ansible-playbook do_parsing.yml 2 3 PLAY [Parser role] ************************************************************************************************************************************************************************************************************************************************** 4 TASK [Get router configuration] *************************************************************************************************************************************************************************************************************************************ok: [CSR] 5 6 TASK [DEBUG1] *******************************************************************************************************************************************************************************************************************************************************ok: [CSR] =\u0026gt; { 7 \u0026quot;vrf_config.stdout[0]\u0026quot;: \u0026quot;vrf definition VPN-A\\n rd 1.1.1.1:1\\n route-target export 65000:1\\n route-target export 65000:2\\n route-target export 65000:5\\n route-target import 65000:5\\n route-target import 65000:7\\nvrf definition VPN-B\\n rd 1.1.1.1:2\\n route-target export 65000:9\\n route-target export 65000:7\\n route-target export 65000:1\\n route-target import 65000:22\\n route-target import 65000:11\u0026quot; 8 } 9 10 TASK [Parse RT data] ************************************************************************************************************************************************************************************************************************************************ok: [CSR] 11 12 TASK [DEBUG2] *******************************************************************************************************************************************************************************************************************************************************ok: [CSR] =\u0026gt; (item=[u'VPN-A', {u'route_export': [u'65000:1', u'65000:2', u'65000:5'], u'route_import': [u'65000:5', u'65000:7']}]) =\u0026gt; { 13 \u0026quot;msg\u0026quot;: \u0026quot;TEST [u'VPN-A', {u'route_export': [u'65000:1', u'65000:2', u'65000:5'], u'route_import': [u'65000:5', u'65000:7']}]\u0026quot; 14 } 15 ok: [CSR] =\u0026gt; (item=[u'VPN-B', {u'route_export': [u'65000:9', u'65000:7', u'65000:1'], u'route_import': [u'65000:22', u'65000:11']}]) =\u0026gt; { 16 \u0026quot;msg\u0026quot;: \u0026quot;TEST [u'VPN-B', {u'route_export': [u'65000:9', u'65000:7', u'65000:1'], u'route_import': [u'65000:22', u'65000:11']}]\u0026quot; 17 } 18 19 PLAY RECAP **********************************************************************************************************************************************************************************************************************************************************CSR : ok=4 changed=0 unreachable=0 failed=0 20 21 cra@lablinux:~/workbench/network-engine tests$ 22  "
},
{
	"uri": "/categories/ansible/",
	"title": "ansible",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "/categories/netops/",
	"title": "netops",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "/netops/ansible/working-with-timestamp/",
	"title": "Ansible timestamps",
	"tags": [],
	"description": "Working with timestamps in Ansible",
	"content": " Timestamps in Ansible Using facts (gather_facts cannot be False):\n tasks: - name: Ansible date fact example debug: var=ansible_date_time.date  Using local time via lookup:\n- hosts: all tasks: - debug: msg=\u0026quot;{{ lookup('pipe','date') }}\u0026quot;  or rather formatted:\n- hosts: all tasks: - debug: msg=\u0026quot;{{ lookup('pipe','date +%Y-%m-%d-%H-%M-%S') }}  Reference of other facts:\n\u0026quot;date\u0026quot;: \u0026quot;2017-07-27\u0026quot;, \u0026quot;day\u0026quot;: \u0026quot;27\u0026quot;, \u0026quot;epoch\u0026quot;: \u0026quot;1501173540\u0026quot;, \u0026quot;hour\u0026quot;: \u0026quot;22\u0026quot;, \u0026quot;iso8601\u0026quot;: \u0026quot;2017-07-27T16:39:00Z\u0026quot;, \u0026quot;iso8601_basic\u0026quot;: \u0026quot;20170727T220900129160\u0026quot;, \u0026quot;iso8601_basic_short\u0026quot;: \u0026quot;20170727T220900\u0026quot;, \u0026quot;iso8601_micro\u0026quot;: \u0026quot;2017-07-27T16:39:00.129240Z\u0026quot;, \u0026quot;minute\u0026quot;: \u0026quot;09\u0026quot;, \u0026quot;month\u0026quot;: \u0026quot;07\u0026quot;, \u0026quot;second\u0026quot;: \u0026quot;00\u0026quot;, \u0026quot;time\u0026quot;: \u0026quot;22:09:00\u0026quot;, \u0026quot;tz\u0026quot;: \u0026quot;IST\u0026quot;, \u0026quot;tz_offset\u0026quot;: \u0026quot;+0530\u0026quot;, \u0026quot;weekday\u0026quot;: \u0026quot;Thursday\u0026quot;, \u0026quot;weekday_number\u0026quot;: \u0026quot;4\u0026quot;, \u0026quot;weeknumber\u0026quot;: \u0026quot;30\u0026quot;, \u0026quot;year\u0026quot;: \u0026quot;2017\u0026quot;  Sources and References http://www.mydailytutorials.com/working-date-timestamp-ansible/\n"
},
{
	"uri": "/netops/python/",
	"title": "Python",
	"tags": [],
	"description": "",
	"content": " Python  Working with Excel in Python Working with Excel in Python\n  Python Virtual Enviroments Notes for working with virualenvs\n  Python basics Cheat sheet for absolute basics of Python\n  "
},
{
	"uri": "/netops/python/openpyxl/",
	"title": "Working with Excel in Python",
	"tags": [],
	"description": "Working with Excel in Python",
	"content": " Working with Excel in Python Import module, create workbook\nfrom openpyxl import Workbook wb = Workbook() Create a sheet\nwb.create_sheet(title=\u0026#39;rtr1\u0026#39;) Get sheet by name\nws1 = wb[\u0026#39;rtr1\u0026#39;] Delete a sheet\ndel wb[\u0026#39;Sheet\u0026#39;] Display list of sheetnames\nwb.sheetnames Access a cell in a sheet\ncell = ws1[\u0026#39;A1\u0026#39;] Save workbook to a file\nwb.save(filename=\u0026#39;vrftestreport.xlsx\u0026#39;) Sources and references\nhttp://www.pythonexcel.com/ https://openpyxl.readthedocs.io/en/stable/usage.html\n"
},
{
	"uri": "/categories/openpyxl/",
	"title": "openpyxl",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "/categories/python/",
	"title": "python",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "/netops/git/",
	"title": "GIT",
	"tags": [],
	"description": "",
	"content": " GIT  Git Panic Commands What to do when you screw up in GIT\n  "
},
{
	"uri": "/netops/git/panic_buttons/",
	"title": "Git Panic Commands",
	"tags": [],
	"description": "What to do when you screw up in GIT",
	"content": " What to do when you screw up in GIT Consult this link: Oh shit, GIT\nEspecially git reflog and git reset HEAD@{index}.\nIf needed to restore the entire working directory you can for example delete everything (but not the .git repo) and do git reset --hard to rebuild the working directory.\n"
},
{
	"uri": "/categories/git/",
	"title": "git",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "/vendors/iosxe_cli/",
	"title": "IOS-XE CLI",
	"tags": [],
	"description": "IOS-XE CLI",
	"content": " IOS-XE CLI tricks\nIOS-XE Datapath Packet Trace Feature Run: debug platform condition interface GigabitEthernet0/0/0.100 ipv4 \u0026lt;IP ADDRESS\u0026gt;/32 both debug platform condition start debug platform packet-trace packet 1024 debug platform packet-trace enable Examine: show platform packet-trace statistics show platform packet-trace summ show platform packet-trace packet 1 Delete: debug platform condition stop clear platform packet-trace statistics clear platform condition all  Source Cisco Docs\n"
},
{
	"uri": "/igps/isis/",
	"title": "ISIS",
	"tags": [],
	"description": "",
	"content": "ISIS Notes\n Integrated IS-IS notes Integrated IS-IS notes\n  "
},
{
	"uri": "/igps/isis/isis/",
	"title": "Integrated IS-IS notes",
	"tags": [],
	"description": "Integrated IS-IS notes",
	"content": " Basics  originaly ISO protocol RFC 1195 defined for (also) routing TCP/IP SPF algoritm / Dijkstra  ISO Adressing  Address consists of: IDP + DSP  IDP = Initial Domain Part  part standardized by ISO, specifies format \u0026amp; addressing authority for DSP part  DSP = Domain Specific Part  HO-DSP (High Order part of DSL) ID (system identifier) SEL (NSAP selector)   IDP+HO-DSP can be called area address  for transition purposes there might be multiple area addresses in one area area address in OSI addressing allows l1 routers to identify packets to destinations outside their area   ISO Areas  Level 1 and Level 2 areas Level 1  L1 routers know the topology inside their area; they do not know the identity of routers outside their area L1 routers forward all traffic for destinations outside their area to level 2 router in their area L1 routers within an area, based on ID portion of the ISO address L1 routers examine the ISO address, if within their own area then they route towards destination, if not they ship the packet to nearest L2 router L1 router will become neighbor only with routers in the SAME area  Level 2  L2 routers in Level 2 area do not need to know the topology of level 1 areas as well L2 routers route based on area address (IDP+HO-DSP), they route towards areas (without regard to the internal structure of the area) L2 router will become neighbor with another L2 router REGARDLESS of area address  only L2 LSPs will flow on link between two different areas   L2 router might be also L1 router in one area\n  IP areas  Level 1  L1 routers route via L1 routing if destination address MATCHES [IP address, subnet mask, metric] found reachable withing the area L1 routes route to nearest L2 router if destination address DOES NOT MATCH ANY [IP address, subnet mask, metric] found reachable withing the area  Level 2  L2 routers include in their L2 LSPs a comple list of [IP address, subnet mask, metric] specifying all IP addresses found in their area, this is obtained from L1 routers (or configured manually) default routes are permitted only at L2   Broadcast segments (LANs)  Problem:  multiple routers on LAN - each router would announce a link to every other router (n^2 links reported)  Solution:  create a pseudonode representing the LAN, each router announces it has a link to the pseudonode one router is selected to send LSP on behalf of the pseudonode (designated router); reporting links to all of the router on the LAN   3-Way handshaking  LAN Hello uses the IS Neighbors TLV to list all neighbors from which a hello has been received P2P Hellos do not carry IS Neighbors TLVs. ISO 10589 prescribes only two-way handshaking in this case. RFC 3373 specifies P2P Three-way Adjacency TLV (240)\nPoint-to-point Adjacency State (t=240, l=15) Type: 240 Length: 15 Adjacency State: Up (0) Extended Local circuit ID: 0x00000048 Neighbor SystemID: 1720.1600.1002 Neighbor Extended Local circuit ID: 0x00000047   Adjacency states  Up Initializing Down  Debug outputs set protocols isis traceoptions flag state reset isis adjacency\nJun 16 15:41:36.289849 Adjacency state change, vSRX1, state Up -\u0026gt; Down Jun 16 15:41:36.289923 interface ge-0/0/0.0, level 3 Jun 16 15:41:36.291278 ISIS L3 neighbor vSRX1 on interface ge-0/0/0.0 deleted Jun 16 15:41:36.293005 ISIS programmed L3 periodic xmit to 09:00:2b:00:00:05 interface ge-0/0/0.0, interval 9 secs 0 nsecs Jun 16 15:41:36.314703 Adjacency state change, vSRX1, state Down -\u0026gt; Initializing Jun 16 15:41:36.314769 interface ge-0/0/0.0, level 3 Jun 16 15:41:36.316573 ISIS L3 neighbor vSRX1 on interface ge-0/0/0.0 set 27 secs 0 nsecs Jun 16 15:41:36.318667 ISIS programmed L3 periodic xmit to 09:00:2b:00:00:05 interface ge-0/0/0.0, interval 9 secs 0 nsecs Jun 16 15:41:36.344605 Adjacency state change, vSRX1, state Initializing -\u0026gt; Up Jun 16 15:41:36.344654 interface ge-0/0/0.0, level 3 Jun 16 15:41:36.345246 Starting database exchange on ge-0/0/0.0 Jun 16 15:41:36.346720 ISIS L3 neighbor vSRX1 on interface ge-0/0/0.0 set 27 secs 0 nsecs Jun 16 15:41:36.348422 ISIS programmed L3 periodic xmit to 09:00:2b:00:00:05 interface ge-0/0/0.0, interval 9 secs 0 nsecs  set protocols isis traceoptions flag packets\n*** debugisis *** Jun 16 15:53:21 vSRX2 clear-log[1337]: logfile cleared Jun 16 15:53:24.345379 Received PTP IIH, source id vSRX1 on ge-0/0/0.0 Jun 16 15:53:24.346181 Sending PTP IIH on ge-0/0/0.0 Jun 16 15:53:24.346226 packet length 48 Jun 16 15:53:24.360054 Received PTP IIH, source id vSRX1 on ge-0/0/0.0 Jun 16 15:53:24.360373 Sending PTP IIH on ge-0/0/0.0 Jun 16 15:53:24.360431 packet length 1492 Jun 16 15:53:24.374327 Updating L1 LSP vSRX2.00-00 in TED Jun 16 15:53:24.374646 Updating L2 LSP vSRX2.00-00 in TED Jun 16 15:53:24.375810 Received PTP IIH, source id vSRX1 on ge-0/0/0.0 Jun 16 15:53:24.376482 Sending PTP IIH on ge-0/0/0.0 Jun 16 15:53:24.376527 packet length 58 Jun 16 15:53:24.400416 Received L1 LSP vSRX1.00-00, on interface ge-0/0/0.0 Jun 16 15:53:24.400464 from vSRX1 Jun 16 15:53:24.400504 sequence 0x10, checksum 0xfaea, lifetime 1198 Jun 16 15:53:24.400571 Updating L1 LSP vSRX1.00-00 in TED Jun 16 15:53:24.400901 Updating L1 LSP vSRX2.00-00 in TED Jun 16 15:53:24.401244 Sending L1 LSP vSRX2.00-00 on interface ge-0/0/0.0 Jun 16 15:53:24.401283 sequence 0x12, checksum 0xe4fa, lifetime 1200 Jun 16 15:53:24.401322 packet length 150 Jun 16 15:53:24.401736 Updating L2 LSP vSRX2.00-00 in TED Jun 16 15:53:24.420761 Received L2 LSP vSRX1.00-00, on interface ge-0/0/0.0 Jun 16 15:53:24.420810 from vSRX1 Jun 16 15:53:24.420861 sequence 0x10, checksum 0x5c3f, lifetime 1198 Jun 16 15:53:24.420919 Updating L2 LSP vSRX1.00-00 in TED Jun 16 15:53:24.421266 Sending L2 LSP vSRX2.00-00 on interface ge-0/0/0.0 Jun 16 15:53:24.421306 sequence 0x12, checksum 0xff97, lifetime 1200 Jun 16 15:53:24.421344 packet length 171 Jun 16 15:53:25.281547 Sending L1 PSN on interface ge-0/0/0.0 Jun 16 15:53:25.281635 packet length 35 Jun 16 15:53:25.281684 Sending L2 PSN on interface ge-0/0/0.0 Jun 16 15:53:25.281723 packet length 35 Jun 16 15:53:25.298222 Received L1 PSN, source vSRX1, interface ge-0/0/0.0 Jun 16 15:53:25.299512 Received L2 PSN, source vSRX1, interface ge-0/0/0.0 Jun 16 15:53:31.810825 ISIS L3 hello from vSRX1 interface ge-0/0/0.0 absorbed Jun 16 15:53:32.923675 ISIS L3 periodic xmit to 09:00:2b:00:00:05 interface ge-0/0/0.0 Jun 16 15:53:35.429957 Sending L1 CSN on interface ge-0/0/0.0 Jun 16 15:53:35.430041 LSP range 0000.0000.0000.00-00 to ffff.ffff.ffff.ff-ff Jun 16 15:53:35.430091 packet length 67 Jun 16 15:53:35.441234 Received L1 CSN, source vSRX1, interface ge-0/0/0.0 Jun 16 15:53:35.441279 LSP range 0000.0000.0000.00-00 to ffff.ffff.ffff.ff-ff Jun 16 15:53:35.441318 packet length 67 Jun 16 15:53:35.454423 Sending L2 CSN on interface ge-0/0/0.0 Jun 16 15:53:35.454480 LSP range 0000.0000.0000.00-00 to ffff.ffff.ffff.ff-ff Jun 16 15:53:35.454520 packet length 67 Jun 16 15:53:35.460799 Received L2 CSN, source vSRX1, interface ge-0/0/0.0 Jun 16 15:53:35.460849 LSP range 0000.0000.0000.00-00 to ffff.ffff.ffff.ff-ff Jun 16 15:53:35.460887 packet length 67 Jun 16 15:53:40.434039 Sending L1 CSN on interface ge-0/0/0.0 Jun 16 15:53:40.434126 LSP range 0000.0000.0000.00-00 to ffff.ffff.ffff.ff-ff Jun 16 15:53:40.434167 packet length 67 Jun 16 15:53:40.446845 ISIS L3 hello from vSRX1 interface ge-0/0/0.0 absorbed Jun 16 15:53:40.448599 Received L1 CSN, source vSRX1, interface ge-0/0/0.0 Jun 16 15:53:40.448641 LSP range 0000.0000.0000.00-00 to ffff.ffff.ffff.ff-ff Jun 16 15:53:40.448679 packet length 67 Jun 16 15:53:40.458292 Sending L2 CSN on interface ge-0/0/0.0 Jun 16 15:53:40.458352 LSP range 0000.0000.0000.00-00 to ffff.ffff.ffff.ff-ff Jun 16 15:53:40.458392 packet length 67 Jun 16 15:53:40.475493 Received L2 CSN, source vSRX1, interface ge-0/0/0.0 Jun 16 15:53:40.475543 LSP range 0000.0000.0000.00-00 to ffff.ffff.ffff.ff-ff Jun 16 15:53:40.475583 packet length 67  "
},
{
	"uri": "/vendors/junos_cli/",
	"title": "Junos CLI",
	"tags": [],
	"description": "Junos CLI",
	"content": " Junos CLI tricks\nShow only certain prefix length routes The \u0026ldquo;match-prefix\u0026rdquo; command allows for regex filtering\nroot@vsrx\u0026gt; show route protocol ospf match-prefix */32 inet.0: 42 destinations, 42 routes (42 active, 0 holddown, 0 hidden) + = Active Route, - = Last Active, * = Both 172.30.5.2/32 *[OSPF/10] 01:31:06, metric 1 \u0026gt; to 172.30.0.2 via ae0.0 172.30.5.3/32 *[OSPF/10] 01:31:06, metric 2 \u0026gt; to 172.30.0.2 via ae0.0 172.30.5.4/32 *[OSPF/10] 00:43:54, metric 3 \u0026gt; to 172.30.0.2 via ae0.0 172.30.5.5/32 *[OSPF/10] 01:31:06, metric 4 \u0026gt; to 172.30.0.2 via ae0.0 172.30.5.6/32 *[OSPF/10] 01:31:06, metric 3 \u0026gt; to 172.30.0.2 via ae0.0 172.30.5.7/32 *[OSPF/10] 01:31:06, metric 2 \u0026gt; to 172.30.0.2 via ae0.0 172.30.5.8/32 *[OSPF/10] 03:34:28, metric 1 \u0026gt; to 172.30.0.10 via ge-0/0/4.118 224.0.0.5/32 *[OSPF/10] 03:50:19, metric 1 MultiRecv inet6.0: 5 destinations, 6 routes (5 active, 0 holddown, 0 hidden) root@vsrx\u0026gt;  "
},
{
	"uri": "/igps/ospf/",
	"title": "OSPF",
	"tags": [],
	"description": "",
	"content": "OSPF Notes\n OSPF adj. formation notes OSPF ddj. formation notes\n  OSPF troubleshooting OSPF troubleshooting\n  "
},
{
	"uri": "/igps/ospf/adj_formation/",
	"title": "OSPF adj. formation notes",
	"tags": [],
	"description": "OSPF ddj. formation notes",
	"content": " Adjacency formation theory DBD Packets bits:\n I = Initial bit M = More bit MS = Master/Slave bit  Adjacency formation practise  PCAP of simple OSPF adj. formation: here Traceoptions: R1 and R2  My notes on the packet captures and traceoptions of simple adjacency formation follows:\n OSPF speakers send out hello packets  R1 sends hello packet to 224.0.0.5:\nFrame 5: 90 bytes on wire (720 bits), 90 bytes captured (720 bits) on interface 0 Ethernet II, Src: 50:00:00:0c:00:00 (50:00:00:0c:00:00), Dst: IPv4mcast_05 (01:00:5e:00:00:05) Internet Protocol Version 4, Src: 192.168.0.0, Dst: 224.0.0.5 Open Shortest Path First OSPF Header Version: 2 Message Type: Hello Packet (1) Packet Length: 44 Source OSPF Router: 1.1.1.1 Area ID: 0.0.0.0 (Backbone) Checksum: 0xe91f [correct] Auth Type: Null (0) Auth Data (none): 0000000000000000 OSPF Hello Packet Network Mask: 255.255.255.254 Hello Interval [sec]: 10 Options: 0x12, (L) LLS Data block, (E) External Routing Router Priority: 128 Router Dead Interval [sec]: 40 Designated Router: 0.0.0.0 Backup Designated Router: 0.0.0.0 OSPF LLS Data Block  R2 sends analogous packet. Not shown.\n OSPF speakers establish two-way adjacency by listing each other in the hello packet  R1 hears the R2\u0026rsquo;s hello packet and next hello packet it advertises contains the R2s RID in \u0026lsquo;Active Neighbor\u0026rsquo; field:\nFrame 9: 94 bytes on wire (752 bits), 94 bytes captured (752 bits) on interface 0 Ethernet II, Src: 50:00:00:0c:00:00 (50:00:00:0c:00:00), Dst: IPv4mcast_05 (01:00:5e:00:00:05) Internet Protocol Version 4, Src: 192.168.0.0, Dst: 224.0.0.5 Open Shortest Path First OSPF Header OSPF Hello Packet Network Mask: 255.255.255.254 Hello Interval [sec]: 10 Options: 0x12, (L) LLS Data block, (E) External Routing Router Priority: 128 Router Dead Interval [sec]: 40 Designated Router: 0.0.0.0 Backup Designated Router: 0.0.0.0 Active Neighbor: 2.2.2.2 OSPF LLS Data Block  # R1 Traceoptions Jul 22 16:17:05.608796 OSPF rcvd Hello 192.168.0.1 -\u0026gt; 224.0.0.5 (ge-0/0/0.0 IFL 70 area 0.0.0.0) Jul 22 16:17:05.608842 Version 2, length 44, ID 2.2.2.2, area 0.0.0.0 Jul 22 16:17:05.608882 checksum 0x0, authtype 0 Jul 22 16:17:05.608922 mask 255.255.255.254, hello_ivl 10, opts 0x12, prio 128 Jul 22 16:17:05.608961 dead_ivl 40, DR 0.0.0.0, BDR 0.0.0.0 Jul 22 16:17:05.609013 OSPF restart signaling: Received hello with LLS data from nbr ip=192.168.0.1 id=2.2.2.2. Jul 22 16:17:05.609281 OSPF neighbor 192.168.0.1 (ge-0/0/0.0 area 0.0.0.0) state changed from Down to Init due to HelloRcvd (event reason: Hello message received) (nbr helped: 0) Jul 22 16:17:05.609322 OSPF restart signaling: Received hello with LR bit set from nbr ip=192.168.0.1 id=2.2.2.2. Set oob-resync capabilty 1. Jul 22 16:17:05.609872 OSPF restart signaling: set L bit in hellos sent on interface ge-0/0/0.0. Jul 22 16:17:05.609914 OSPF sent Hello 192.168.0.0 -\u0026gt; 224.0.0.5 (ge-0/0/0.0 IFL 70 area 0.0.0.0) Jul 22 16:17:05.609954 Version 2, length 48, ID 1.1.1.1, area 0.0.0.0 Jul 22 16:17:05.609994 mask 255.255.255.254, hello_ivl 10, opts 0x12, prio 128 Jul 22 16:17:05.610046 dead_ivl 40, DR 0.0.0.0, BDR 0.0.0.0 Jul 22 16:17:05.610126 neighbor 2.2.2.2   ExStart stage. Neighbors exchange (empty) DBD packets. Both assert masterhip over the dtbs exchange process by setting bits I,M,MS to 1 and setting the sequence number to one they like.  R2 packet to R1:\nFrame 11: 78 bytes on wire (624 bits), 78 bytes captured (624 bits) on interface 0 Ethernet II, Src: 50:00:00:0d:00:00 (50:00:00:0d:00:00), Dst: IPv4mcast_05 (01:00:5e:00:00:05) Internet Protocol Version 4, Src: 192.168.0.1, Dst: 224.0.0.5 Open Shortest Path First OSPF Header Version: 2 Message Type: DB Description (2) Packet Length: 32 Source OSPF Router: 2.2.2.2 Area ID: 0.0.0.0 (Backbone) Checksum: 0xf084 [correct] Auth Type: Null (0) Auth Data (none): 0000000000000000 OSPF DB Description Interface MTU: 1500 Options: 0x52, O, (L) LLS Data block, (E) External Routing DB Description: 0x07, (I) Init, (M) More, (MS) Master .... 0... = (R) OOBResync: Not set .... .1.. = (I) Init: Set .... ..1. = (M) More: Set .... ...1 = (MS) Master: Yes DD Sequence: 33992555 OSPF LLS Data Block  # R2 traceoptions Jul 22 16:17:06.951908 OSPF sent DbD 192.168.0.1 -\u0026gt; 224.0.0.5 (ge-0/0/0.0 IFL 70 area 0.0.0.0) Jul 22 16:17:06.951952 Version 2, length 32, ID 2.2.2.2, area 0.0.0.0 Jul 22 16:17:06.952011 options 0x52, i 1, m 1, ms 1, r 0, seq 0x206af6b, mtu 1500 Jul 22 16:17:06.982916 OSPF rcvd DbD 192.168.0.0 -\u0026gt; 224.0.0.5 (ge-0/0/0.0 IFL 70 area 0.0.0.0) Jul 22 16:17:06.982956 Version 2, length 32, ID 1.1.1.1, area 0.0.0.0 Jul 22 16:17:06.982996 checksum 0x0, authtype 0 Jul 22 16:17:06.983036 options 0x52, i 1, m 1, ms 1, r 0, seq 0x10c1ca2, mtu 1500 Jul 22 16:17:06.983538 ospf_process_dbd: dbd from 192.168.0.0 ignored   Router with LOWER RID becomes the SLAVE and sends new (POPULATED) DBD with MS set to 0 and seq. to what the master set in the previous exchange. Master replies also with (POPULATED) DBD with sequence number incresed by one.  R1 has lower rid, so it sends the \u0026ldquo;I am the slave, you are the master\u0026rdquo; message\nFrame 15: 98 bytes on wire (784 bits), 98 bytes captured (784 bits) on interface 0 Ethernet II, Src: 50:00:00:0c:00:00 (50:00:00:0c:00:00), Dst: IPv4mcast_05 (01:00:5e:00:00:05) Internet Protocol Version 4, Src: 192.168.0.0, Dst: 224.0.0.5 Open Shortest Path First OSPF Header OSPF DB Description Interface MTU: 1500 Options: 0x52, O, (L) LLS Data block, (E) External Routing DB Description: 0x00 .... 0... = (R) OOBResync: Not set .... .0.. = (I) Init: Not set .... ..0. = (M) More: Not set .... ...0 = (MS) Master: No DD Sequence: 33992555 LSA-type 1 (Router-LSA), len 36 OSPF LLS Data Block  #R1 traceoptions Jul 22 16:17:05.733316 OSPF rcvd DbD 192.168.0.1 -\u0026gt; 224.0.0.5 (ge-0/0/0.0 IFL 70 area 0.0.0.0) Jul 22 16:17:05.733355 Version 2, length 32, ID 2.2.2.2, area 0.0.0.0 Jul 22 16:17:05.733395 checksum 0x0, authtype 0 Jul 22 16:17:05.733434 options 0x52, i 1, m 1, ms 1, r 0, seq 0x206af6b, mtu 1500 Jul 22 16:17:05.733476 task_job_create_background: create prio 1 job OSPF process rcvd dbd packets for task OSPF Jul 22 16:17:05.733789 background dispatch running job OSPF process rcvd dbd packets for task OSPF Jul 22 16:17:05.733865 ospf_process_dbd: processing dbd from 192.168.0.1 Jul 22 16:17:05.733905 OSPF restart signaling: Received DBD with LLS data from nbr ip=192.168.0.1 id=2.2.2.2. Jul 22 16:17:05.733945 OSPF now slave for nbr 192.168.0.1 Jul 22 16:17:05.734027 OSPF neighbor 192.168.0.1 (ge-0/0/0.0 area 0.0.0.0) state changed from ExStart to Exchange due to NegotiationDone (event reason: master/slave negotiation completed) (nbr helped: 0) Jul 22 16:17:05.734068 In sequence  Master reply\nFrame 16: 98 bytes on wire (784 bits), 98 bytes captured (784 bits) on interface 0 Ethernet II, Src: 50:00:00:0d:00:00 (50:00:00:0d:00:00), Dst: IPv4mcast_05 (01:00:5e:00:00:05) Internet Protocol Version 4, Src: 192.168.0.1, Dst: 224.0.0.5 Open Shortest Path First OSPF Header OSPF DB Description Interface MTU: 1500 Options: 0x52, O, (L) LLS Data block, (E) External Routing DB Description: 0x01, (MS) Master DD Sequence: 33992556 LSA-type 1 (Router-LSA), len 36 OSPF LLS Data Block  #R2 traceoptions Jul 22 16:17:07.026463 OSPF rcvd DbD 192.168.0.0 -\u0026gt; 224.0.0.5 (ge-0/0/0.0 IFL 70 area 0.0.0.0) Jul 22 16:17:07.026894 Version 2, length 52, ID 1.1.1.1, area 0.0.0.0 Jul 22 16:17:07.026938 checksum 0x0, authtype 0 Jul 22 16:17:07.026978 options 0x52, i 0, m 0, ms 0, r 0, seq 0x206af6b, mtu 1500 Jul 22 16:17:07.027035 id 1.1.1.1, type Router (0x1), age 0x1 Jul 22 16:17:07.027074 options 0x22 Jul 22 16:17:07.027114 adv rtr 1.1.1.1, seq 0x80000001, cksum 0x2b96, len 36 Jul 22 16:17:07.027642 OSPF now master for nbr 192.168.0.0 Jul 22 16:17:07.027726 OSPF neighbor 192.168.0.0 (ge-0/0/0.0 area 0.0.0.0) state changed from ExStart to Exchange due to NegotiationDone (event reason: master/slave negotiation completed) (nbr helped: 0) Jul 22 16:17:07.028608 background dispatch completed job OSPF process rcvd dbd packets for task OSPF Jul 22 16:17:07.029619 OSPF sent DbD 192.168.0.1 -\u0026gt; 224.0.0.5 (ge-0/0/0.0 IFL 70 area 0.0.0.0) Jul 22 16:17:07.029663 Version 2, length 52, ID 2.2.2.2, area 0.0.0.0 Jul 22 16:17:07.029704 options 0x52, i 0, m 0, ms 1, r 0, seq 0x206af6c, mtu 1500 Jul 22 16:17:07.029744 id 2.2.2.2, type Router (0x1), age 0x0 Jul 22 16:17:07.029783 options 0x22 Jul 22 16:17:07.029823 adv rtr 2.2.2.2, seq 0x80000001, cksum 0xdeda, len 36   In the EXCHANGE state the routers synchronize databases.  Master controls the sync process. Only one DBD can be outstanding at a time. Each dd packet slave receives is acknowledged with dd packet w/ the same sequence number. Slave sends DD packets only in response to Master DD packets.   Master requests the LSA using LSR\nFrame 17: 70 bytes on wire (560 bits), 70 bytes captured (560 bits) on interface 0 Ethernet II, Src: 50:00:00:0d:00:00 (50:00:00:0d:00:00), Dst: IPv4mcast_05 (01:00:5e:00:00:05) Internet Protocol Version 4, Src: 192.168.0.1, Dst: 224.0.0.5 Open Shortest Path First OSPF Header Link State Request LS Type: Router-LSA (1) Link State ID: 1.1.1.1 Advertising Router: 1.1.1.1  #R2 traceoptions Jul 22 16:17:07.030062 OSPF sent LSReq 192.168.0.1 -\u0026gt; 224.0.0.5 (ge-0/0/0.0 IFL 70 area 0.0.0.0) Jul 22 16:17:07.030102 Version 2, length 36, ID 2.2.2.2, area 0.0.0.0 Jul 22 16:17:07.030154 type Router (1), id 1.1.1.1, adv rtr 1.1.1.1  Slave requests the LSA using LSR\nFrame 19: 70 bytes on wire (560 bits), 70 bytes captured (560 bits) on interface 0 Ethernet II, Src: 50:00:00:0c:00:00 (50:00:00:0c:00:00), Dst: IPv4mcast_05 (01:00:5e:00:00:05) Internet Protocol Version 4, Src: 192.168.0.0, Dst: 224.0.0.5 Open Shortest Path First OSPF Header Version: 2 Message Type: LS Request (3) Packet Length: 36 Source OSPF Router: 1.1.1.1 Area ID: 0.0.0.0 (Backbone) Checksum: 0xf3cd [correct] Auth Type: Null (0) Auth Data (none): 0000000000000000 Link State Request LS Type: Router-LSA (1) Link State ID: 2.2.2.2 Advertising Router: 2.2.2.2  # R1 traceoptions - receives LSReq Jul 22 16:17:05.801405 OSPF rcvd LSReq 192.168.0.1 -\u0026gt; 224.0.0.5 (ge-0/0/0.0 IFL 70 area 0.0.0.0) Jul 22 16:17:05.801444 Version 2, length 36, ID 2.2.2.2, area 0.0.0.0 Jul 22 16:17:05.801493 checksum 0x0, authtype 0 Jul 22 16:17:05.801534 type Router (1), id 1.1.1.1, adv rtr 1.1.1.1 # sends LSReq Jul 22 16:17:05.822003 OSPF sent LSReq 192.168.0.0 -\u0026gt; 224.0.0.5 (ge-0/0/0.0 IFL 70 area 0.0.0.0) Jul 22 16:17:05.822043 Version 2, length 36, ID 1.1.1.1, area 0.0.0.0 Jul 22 16:17:05.822084 type Router (1), id 2.2.2.2, adv rtr 2.2.2.2  Slave sends and receives the LSA in LSU\nLSU from Slave to Master\nFrame 20: 98 bytes on wire (784 bits), 98 bytes captured (784 bits) on interface 0 Ethernet II, Src: 50:00:00:0c:00:00 (50:00:00:0c:00:00), Dst: IPv4mcast_05 (01:00:5e:00:00:05) Internet Protocol Version 4, Src: 192.168.0.0, Dst: 224.0.0.5 Open Shortest Path First OSPF Header LS Update Packet Number of LSAs: 1 LSA-type 1 (Router-LSA), len 36 .000 0000 0000 0010 = LS Age (seconds): 2 0... .... .... .... = Do Not Age Flag: 0 Options: 0x22, (DC) Demand Circuits, (E) External Routing LS Type: Router-LSA (1) Link State ID: 1.1.1.1 Advertising Router: 1.1.1.1 Sequence Number: 0x80000001 Checksum: 0x2b96 Length: 36 Flags: 0x00 Number of Links: 1 Type: Stub ID: 192.168.0.0 Data: 255.255.255.254 Metric: 1 Link ID: 192.168.0.0 - IP network/subnet number Link Data: 255.255.255.254 Link Type: 3 - Connection to a stub network Number of Metrics: 0 - TOS 0 Metric: 1  # R1 traceoptions - Sends LSU Jul 22 16:17:05.822565 OSPF sent LSUpdate 192.168.0.0 -\u0026gt; 224.0.0.5 (ge-0/0/0.0 IFL 70 area 0.0.0.0) Jul 22 16:17:05.822605 Version 2, length 64, ID 1.1.1.1, area 0.0.0.0 Jul 22 16:17:05.822665 adv count 1 Jul 22 16:17:05.822706 id 1.1.1.1, type Router (0x1), age 0x2 Jul 22 16:17:05.822745 options 0x22 Jul 22 16:17:05.822785 adv rtr 1.1.1.1, seq 0x80000001, cksum 0x2b96, len 36 Jul 22 16:17:05.822836 bits 0x0, link count 1 Jul 22 16:17:05.822877 id 192.168.0.0, data 255.255.255.254, type Stub (3) Jul 22 16:17:05.822916 Topology count 0, Default metric 1 # rec. LSU Jul 22 16:17:05.847393 OSPF rcvd LSUpdate 192.168.0.1 -\u0026gt; 224.0.0.5 (ge-0/0/0.0 IFL 70 area 0.0.0.0) Jul 22 16:17:05.847434 Version 2, length 64, ID 2.2.2.2, area 0.0.0.0 Jul 22 16:17:05.847474 checksum 0x0, authtype 0 Jul 22 16:17:05.847514 adv count 1 Jul 22 16:17:05.847554 id 2.2.2.2, type Router (0x1), age 0x1 Jul 22 16:17:05.847594 options 0x22 Jul 22 16:17:05.847633 adv rtr 2.2.2.2, seq 0x80000001, cksum 0xdeda, len 36 Jul 22 16:17:05.847673 bits 0x0, link count 1 Jul 22 16:17:05.847713 id 192.168.0.0, data 255.255.255.254, type Stub (3) Jul 22 16:17:05.847752 Topology count 0, Default metric 1   All LSAs must be individualy acknowledged by either EXPLICIT ACK (LSAck) or IMPLICIT ACK (LSU with the identical LSA)  LSAck from master to slave:\nFrame 22: 78 bytes on wire (624 bits), 78 bytes captured (624 bits) on interface 0 Ethernet II, Src: 50:00:00:0d:00:00 (50:00:00:0d:00:00), Dst: IPv4mcast_05 (01:00:5e:00:00:05) Internet Protocol Version 4, Src: 192.168.0.1, Dst: 224.0.0.5 Open Shortest Path First OSPF Header LSA-type 1 (Router-LSA), len 36 .000 0000 0000 0010 = LS Age (seconds): 2 0... .... .... .... = Do Not Age Flag: 0 Options: 0x22, (DC) Demand Circuits, (E) External Routing LS Type: Router-LSA (1) Link State ID: 1.1.1.1 Advertising Router: 1.1.1.1 Sequence Number: 0x80000001 Checksum: 0x2b96 Length: 36  # R1 Traceoptions # sends LSAck Jul 22 16:17:06.857091 OSPF sent LSAck 192.168.0.0 -\u0026gt; 224.0.0.5 (ge-0/0/0.0 IFL 70 area 0.0.0.0) Jul 22 16:17:06.857132 Version 2, length 44, ID 1.1.1.1, area 0.0.0.0 Jul 22 16:17:06.857172 id 2.2.2.2, type Router (0x1), age 0x1 Jul 22 16:17:06.857212 options 0x22 Jul 22 16:17:06.857251 adv rtr 2.2.2.2, seq 0x80000001, cksum 0xdeda, len 36 # receives LSAck Jul 22 16:17:06.858828 task_timer_uset: timer OSPF I/O./var/run/ppmd_control_PPM Hold \u0026lt;Touched\u0026gt; set to offset 2:00 at 16:19:06 Jul 22 16:17:06.858873 OSPF rcvd LSAck 192.168.0.1 -\u0026gt; 224.0.0.5 (ge-0/0/0.0 IFL 70 area 0.0.0.0) Jul 22 16:17:06.858913 Version 2, length 44, ID 2.2.2.2, area 0.0.0.0 Jul 22 16:17:06.858953 checksum 0x0, authtype 0 Jul 22 16:17:06.858992 id 1.1.1.1, type Router (0x1), age 0x2 Jul 22 16:17:06.859032 options 0x22 Jul 22 16:17:06.859071 adv rtr 1.1.1.1, seq 0x80000001, cksum 0x2b96, len 36  Note to self: When the routers receive LSAs from each other - their databases change and LSAs are flodded again.\n"
},
{
	"uri": "/igps/ospf/troubleshooting/",
	"title": "OSPF troubleshooting",
	"tags": [],
	"description": "OSPF troubleshooting",
	"content": " Troubleshooting Neighborship problems checklist Source: iNET ZERO\n Interfaces present in [edit protocols ospf] Interfaces are not passive Interfaces are not down No FF is blocking OSPF protocol 89 Area mismatch Timer mismatch Auth. mismatch Area type mismatch Subnet mask mismatch Duplicate router-id MTU mismatch DR priority = 0 on both routers Duplicate interface ip address Interface type mismatch  Tools Show commands. Traceoptions. Monitor traffic interface.\nmonitor traffic interface em1 size 1500 no-resolve detail | matching “ip proto ospf”  Authentication debugs Authentication problem is best identified using traceoptions:\n[edit protocols ospf traceoptions] root@vrsx# show file debugospf size 10m; flag hello detail; flag error detail; [edit protocols ospf traceoptions] root@vsrx#  The message for mismatched authentication looks like this:\nJul 10 19:14:59.687339 OSPF packet ignored: authentication failure (bad cksum). Jul 10 19:14:59.688689 OSPF packet ignored: authentication failure from 172.30.0.26  Message when the other side doesn\u0026rsquo;t use authentication, but it is required:\nJul 10 19:23:40.327021 OSPF packet ignored: authentication type mismatch (0) from 172.30.0.26  Succesful negotiation after fixing the issue looks like this:\nJul 10 19:25:11.714647 OSPF rcvd Hello 172.30.0.26 -\u0026gt; 224.0.0.5 (ge-0/0/4.136 IFL 74 area 0.0.0.0) Jul 10 19:25:11.714695 Version 2, length 44, ID 172.30.5.6, area 0.0.0.0 Jul 10 19:25:11.714738 checksum 0x0, authtype 2 Jul 10 19:25:11.714782 mask 255.255.255.252, hello_ivl 10, opts 0x12, prio 128 Jul 10 19:25:11.714825 dead_ivl 40, DR 172.30.0.26, BDR 0.0.0.0 Jul 10 19:25:11.714870 OSPF restart signaling: Received hello with LLS data from nbr ip=172.30.0.26 id=172.30.5.6. Jul 10 19:25:11.714923 OSPF restart signaling: Received hello with LR bit set from nbr ip=172.30.0.26 id=172.30.5.6. Set oob-resync capabilty 1. Jul 10 19:25:11.715291 OSPF restart signaling: set L bit in hellos sent on interface ge-0/0/4.136. Jul 10 19:25:11.715338 OSPF sent Hello 172.30.0.25 -\u0026gt; 224.0.0.5 (ge-0/0/4.136 IFL 74 area 0.0.0.0) Jul 10 19:25:11.715381 Version 2, length 48, ID 172.30.5.3, area 0.0.0.0 Jul 10 19:25:11.715425 mask 255.255.255.252, hello_ivl 10, opts 0x12, prio 128 Jul 10 19:25:11.715467 dead_ivl 40, DR 172.30.0.25, BDR 0.0.0.0 Jul 10 19:25:11.715510 OSPF restart signaling: Add LLS data for Hello packet on interface ge-0/0/4.136. Jul 10 19:25:11.716654 OSPF rcvd Hello 172.30.0.26 -\u0026gt; 224.0.0.5 (ge-0/0/4.136 IFL 74 area 0.0.0.0) Jul 10 19:25:11.716699 Version 2, length 44, ID 172.30.5.6, area 0.0.0.0 Jul 10 19:25:11.716742 checksum 0x0, authtype 2 Jul 10 19:25:11.720641 mask 255.255.255.252, hello_ivl 10, opts 0x12, prio 128 Jul 10 19:25:11.720697 dead_ivl 40, DR 172.30.0.26, BDR 0.0.0.0 Jul 10 19:25:11.720742 OSPF restart signaling: Received hello with LLS data from nbr ip=172.30.0.26 id=172.30.5.6. Jul 10 19:25:11.720786 OSPF restart signaling: Received hello with LR bit set from nbr ip=172.30.0.26 id=172.30.5.6. Set oob-resync capabilty 1. Jul 10 19:25:11.748618 OSPF rcvd Hello 172.30.0.26 -\u0026gt; 224.0.0.5 (ge-0/0/4.136 IFL 74 area 0.0.0.0) Jul 10 19:25:11.748673 Version 2, length 48, ID 172.30.5.6, area 0.0.0.0 Jul 10 19:25:11.748730 checksum 0x0, authtype 2 Jul 10 19:25:11.748774 mask 255.255.255.252, hello_ivl 10, opts 0x12, prio 128 Jul 10 19:25:11.748817 dead_ivl 40, DR 172.30.0.26, BDR 0.0.0.0 Jul 10 19:25:11.748866 OSPF restart signaling: Received hello with LLS data from nbr ip=172.30.0.26 id=172.30.5.6. Jul 10 19:25:11.748912 OSPF restart signaling: Received hello with LR bit set from nbr ip=172.30.0.26 id=172.30.5.6. Set oob-resync capabilty 1. Jul 10 19:25:11.749027 RPD_OSPF_NBRUP: OSPF neighbor 172.30.0.26 (realm ospf-v2 ge-0/0/4.136 area 0.0.0.0) state changed from Init to ExStart due to 2WayRcvd (event reason: neighbor detected this router) Jul 10 19:25:11.749117 OSPF restart signaling: Send DBD with LR bit on to nbr ip=172.30.0.26 id=172.30.5.6. Jul 10 19:25:11.749216 OSPF restart signaling: Add LLS data for DbD packet on interface ge-0/0/4.136. Jul 10 19:25:11.756076 OSPF DR is 172.30.5.6, BDR is 172.30.5.3 Jul 10 19:25:11.756757 OSPF hello from 172.30.0.26 (IFL 74, area 0.0.0.0) absorbed Jul 10 19:25:11.762080 OSPF restart signaling: set L bit in hellos sent on interface ge-0/0/4.136. Jul 10 19:25:11.762768 OSPF sent Hello 172.30.0.25 -\u0026gt; 224.0.0.5 (ge-0/0/4.136 IFL 74 area 0.0.0.0) Jul 10 19:25:11.763076 Version 2, length 48, ID 172.30.5.3, area 0.0.0.0 Jul 10 19:25:11.763152 mask 255.255.255.252, hello_ivl 10, opts 0x12, prio 128 Jul 10 19:25:11.763225 dead_ivl 40, DR 172.30.0.26, BDR 172.30.0.25 Jul 10 19:25:11.763303 OSPF restart signaling: Add LLS data for Hello packet on interface ge-0/0/4.136. Jul 10 19:25:11.763893 OSPF restart signaling: Received DBD with LLS data from nbr ip=172.30.0.26 id=172.30.5.6. Jul 10 19:25:11.764106 OSPF restart signaling: Send DBD with LR bit on to nbr ip=172.30.0.26 id=172.30.5.6. Jul 10 19:25:11.802212 OSPF restart signaling: Add LLS data for DbD packet on interface ge-0/0/4.136. Jul 10 19:25:11.821028 OSPF rcvd Hello 172.30.0.26 -\u0026gt; 224.0.0.5 (ge-0/0/4.136 IFL 74 area 0.0.0.0) Jul 10 19:25:11.821083 Version 2, length 48, ID 172.30.5.6, area 0.0.0.0 Jul 10 19:25:11.821124 checksum 0x0, authtype 2 Jul 10 19:25:11.821217 mask 255.255.255.252, hello_ivl 10, opts 0x12, prio 128 Jul 10 19:25:11.821269 dead_ivl 40, DR 172.30.0.26, BDR 172.30.0.25 Jul 10 19:25:11.821390 OSPF restart signaling: Received hello with LLS data from nbr ip=172.30.0.26 id=172.30.5.6. Jul 10 19:25:11.821436 OSPF restart signaling: Received hello with LR bit set from nbr ip=172.30.0.26 id=172.30.5.6. Set oob-resync capabilty 1. Jul 10 19:25:11.823745 OSPF restart signaling: Received DBD with LLS data from nbr ip=172.30.0.26 id=172.30.5.6. Jul 10 19:25:11.823806 OSPF restart signaling: Send DBD with LR bit on to nbr ip=172.30.0.26 id=172.30.5.6. Jul 10 19:25:11.858401 OSPF restart signaling: Add LLS data for DbD packet on interface ge-0/0/4.136. Jul 10 19:25:11.882496 RPD_OSPF_NBRUP: OSPF neighbor 172.30.0.26 (realm ospf-v2 ge-0/0/4.136 area 0.0.0.0) state changed from Loading to Full due to LoadDone (event reason: OSPF loading completed) Jul 10 19:25:12.266533 OSPF periodic xmit from 172.30.0.21 to 224.0.0.5 (IFL 73 area 0.0.0.4) Jul 10 19:25:14.533324 OSPF hello from 172.30.0.22 (IFL 73, area 0.0.0.4) absorbed Jul 10 19:25:18.489407 OSPF hello from 172.30.0.13 (IFL 72, area 0.0.0.0) absorbed Jul 10 19:25:19.197534 OSPF periodic xmit from 172.30.0.14 to 224.0.0.5 (IFL 72 area 0.0.0.0) Jul 10 19:25:19.826699 OSPF hello from 172.30.0.26 (IFL 74, area 0.0.0.0) absorbed  Resources iNET ZERO\n"
},
{
	"uri": "/vendors/",
	"title": "Vendor specifics",
	"tags": [],
	"description": "",
	"content": "Vendor specifics notes\n IOS-XE CLI IOS-XE CLI\n  Junos CLI Junos CLI\n  "
},
{
	"uri": "/categories/cli/",
	"title": "cli",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "/categories/igps/",
	"title": "igps",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "/categories/ios-xe/",
	"title": "ios-xe",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "/categories/isis/",
	"title": "isis",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "/categories/junos/",
	"title": "junos",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "/categories/ospf/",
	"title": "ospf",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "/netops/python/python-virtualenvs/",
	"title": "Python Virtual Enviroments",
	"tags": [],
	"description": "Notes for working with virualenvs",
	"content": "Using mkvirtualenv w/ Python 3\nmkvirtualenv --python=/usr/bin/python3 nameOfEnvironment  "
},
{
	"uri": "/categories/virtualenv/",
	"title": "virtualenv",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "/ipspace-course-notes/",
	"title": "Building Network Automation Solutions Course Notes",
	"tags": [],
	"description": "",
	"content": "Building Network Automation Solutions Course Notes\n List of materials to study List of materials to study\n  "
},
{
	"uri": "/certs/",
	"title": "Certifications",
	"tags": [],
	"description": "",
	"content": "Certification specific resources\n JNCIx-SP Notes and resources specific to Juniper Service Provider certifications\n  "
},
{
	"uri": "/certs/jncix-sp/",
	"title": "JNCIx-SP",
	"tags": [],
	"description": "Notes and resources specific to Juniper Service Provider certifications",
	"content": " Links  jncip-sp: the ultimate resource for juniper’s professional service provider cert:  https://www.networkfuntimes.com/jncip-sp-the-ultimate-resource-for-junipers-professional-service-provider-cert/   "
},
{
	"uri": "/ipspace-course-notes/watch-list/",
	"title": "List of materials to study",
	"tags": [],
	"description": "List of materials to study",
	"content": " Links  What is NetDevOps? Why? - Leslie Carr (SFMIX), RIPE71 also check the spotify github for production playbooks NAPALM - Elisa Jasinska \u0026amp; David Barroso, NANOG64 How Facebook Learned to Stop Worrying and Love the Network (Jose Leitao, David Rothera, RIPE71) Compliance tools  networklore.com/nk-compare-configs github.com/cidrblock/netcopa  Parsing tool TextFSM Python for Network Engineers – A Practical Guide for Getting Started – Jeremy Schulman https://www.youtube.com/watch?v=6INPb9EAgBI  Books  Mythical Man-Month - Frederic P. Brooks, 1975  Solutions  Initial provisioning for Cisco - inc. answering / skipping the initial setup dialog - https://github.com/bittsi/bnas/tree/master/Staging/prepare/tasks  Things to try Ansible parsers\nparse_cli parse_cli_textfsm parse_xml  Other https://www.ansible.com/power-of-callback-plugins\n"
},
{
	"uri": "/mpls-vpns/",
	"title": "MPLS VPNs",
	"tags": [],
	"description": "",
	"content": "MPLS VPNs are awesome\n VPLS VPLS\n  "
},
{
	"uri": "/mpls-vpns/vpls/",
	"title": "VPLS",
	"tags": [],
	"description": "VPLS",
	"content": " Virtual Private LAN Service = VPLS = Layer 2 MPLS VPN\nBasics  Variants\n RFC 4761 - Virtual Private LAN Service (VPLS) - Using BGP for Auto-Discovery and Signaling RFC 4762 - Virtual Private LAN Service (VPLS) Using Label Distribution Protocol (LDP) Signaling  BGP auto-discovery\n PEs auto-discover other PEs in the same VPLS instance automatic pseudowire establishment full MPLS LSP mesh between PEs (RSVP or LDP signalled)  BGP or LDP for service label distribution\n Data-plane MAC learning\n MAC table per VPLS instance on PE BUM flooding over VPLS instance  Split horizon rules\n frame received on PW is never sent back on the same PW default: frame received on a PW is not forwarded on any other PW  Ethernet media only (contrast w/ L2VPN)\n  Configuration Juniper RRs and PEs have to have BGP l2vpn signaling family (AFI=25, SAFI=65) configured to support BGP signaled VPLS:\nset protocols bgp group rr-cluster family l2vpn signaling  "
},
{
	"uri": "/categories/certifications/",
	"title": "certifications",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "/categories/course/",
	"title": "course",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "/categories/jncip-sp/",
	"title": "jncip-sp",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "/categories/juniper/",
	"title": "juniper",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "/categories/mpls/",
	"title": "mpls",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "/categories/vpls/",
	"title": "vpls",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "/categories/vpn/",
	"title": "vpn",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "/multicast/igmp/",
	"title": "IGMP",
	"tags": [],
	"description": "IGMP notes",
	"content": " IGMP is a protocol \u0026hellip;\nprint(test) IGMPv1 IGMPv1 is\nIGMPv2 IGMPv2 is\nIGMPv3 IGMPv3 is\nResources Decoding packets youtube channel, excelent deep-dive to all of multicast: https://www.youtube.com/channel/UC2xDUkd_PuxDvhl4zQz67Aw\n  "
},
{
	"uri": "/multicast/",
	"title": "Multicast",
	"tags": [],
	"description": "",
	"content": " Multicast "
},
{
	"uri": "/netops/python/python-basics/",
	"title": "Python basics",
	"tags": [],
	"description": "Cheat sheet for absolute basics of Python",
	"content": " test "
},
{
	"uri": "/categories/igmp/",
	"title": "igmp",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "/categories/multicast/",
	"title": "multicast",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "/igps/",
	"title": "IGPs",
	"tags": [],
	"description": "",
	"content": "Interior gateway protocols\n"
},
{
	"uri": "/netops/",
	"title": "Netops",
	"tags": [],
	"description": "",
	"content": " Netops  Ansible  Ansible Ansible tips, tricks and notes Ansible tips, tricks and notes Junos/Ansible basics Basics of using Ansible to manage Juniper devices Network-engine module Ansible network-engine module Ansible timestamps Working with timestamps in Ansible   Python  Python Working with Excel in Python Working with Excel in Python Python Virtual Enviroments Notes for working with virualenvs Python basics Cheat sheet for absolute basics of Python   GIT  GIT Git Panic Commands What to do when you screw up in GIT   "
},
{
	"uri": "/tags/",
	"title": "Tags",
	"tags": [],
	"description": "",
	"content": ""
}]